{
  "name": "Agente Cidadao - Multi-Agentes",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "chat",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "3c9454b2-5775-4e2b-aceb-498e5c14cc7f",
      "name": "Webhook Chat",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -1312,
        96
      ],
      "webhookId": "a23384a3-5018-4dfd-a6cc-e9bcd5eded3f"
    },
    {
      "parameters": {
        "dataType": "string",
        "value1": "={{ $json.agente }}",
        "rules": {
          "rules": [
            {
              "value2": "legislativo"
            },
            {
              "value2": "politico",
              "output": 1
            },
            {
              "value2": "fiscal",
              "output": 2
            }
          ]
        }
      },
      "id": "d7ccc8ae-fb2f-43e3-8545-0ce54046bb27",
      "name": "Router",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 1,
      "position": [
        -192,
        80
      ]
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "Legislativo"
            },
            {
              "fieldId": "message",
              "fieldValue": "Iniciando anÃ¡lise..."
            },
            {
              "fieldId": "status",
              "fieldValue": "info"
            }
          ]
        }
      },
      "id": "5bc93e94-b912-4555-8b5c-30b6f21d14ee",
      "name": "Log: Leg Start",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -48,
        -48
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "PolÃ­tico"
            },
            {
              "fieldId": "message",
              "fieldValue": "Iniciando anÃ¡lise..."
            },
            {
              "fieldId": "status",
              "fieldValue": "info"
            }
          ]
        }
      },
      "id": "5faa6a05-798d-4afa-8c9f-237caf94eff8",
      "name": "Log: Pol Start",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -48,
        256
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "Fiscal"
            },
            {
              "fieldId": "message",
              "fieldValue": "Iniciando anÃ¡lise..."
            },
            {
              "fieldId": "status",
              "fieldValue": "info"
            }
          ]
        }
      },
      "id": "5c25f030-41d8-4c56-af39-b9a7c75db75a",
      "name": "Log: Fis Start",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -64,
        528
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "tableId": "requests",
        "filters": {
          "conditions": [
            {
              "keyName": "id",
              "condition": "eq",
              "keyValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            }
          ]
        },
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "status",
              "fieldValue": "completed"
            },
            {
              "fieldId": "final_response",
              "fieldValue": "={{ $json.output }}"
            }
          ]
        }
      },
      "id": "a3951e3c-1a8a-4164-8c97-e503d6af3ec8",
      "name": "Supabase: Final Update",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        1600,
        -256
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "endpointUrl": "https://agentecidadaomcp-production.up.railway.app/mcp",
        "include": "selected",
        "includeTools": [
          "buscar_deputados",
          "detalhar_deputado",
          "despesas_deputado",
          "discursos_deputado",
          "eventos_deputado",
          "frentes_deputado",
          "ocupacoes_deputado",
          "orgaos_deputado",
          "profissoes_deputado",
          "analise_presenca_deputado",
          "buscar_partidos",
          "detalhar_partido",
          "membros_partido",
          "lideres_partido",
          "buscar_orgaos",
          "membros_orgao",
          "buscar_frentes",
          "ufs",
          "tipos_orgao",
          "membros_frente",
          "mesa_legislatura",
          "sugerir_ferramentas",
          "resumo_discursos_deputado"
        ],
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        432,
        416
      ],
      "id": "3d432f25-8da6-425d-ba5d-46503401f87e",
      "name": "MCP Client1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=={{ $('Webhook Chat').item.json.body.record.content }}\n\n{{ $('Webhook Chat').item.json.body.record.context && typeof $('Webhook Chat').item.json.body.record.context === 'object' && !Array.isArray($('Webhook Chat').item.json.body.record.context) && Object.keys($('Webhook Chat').item.json.body.record.context).length > 0 ? 'CONTEXTO: ' + JSON.stringify($('Webhook Chat').item.json.body.record.context) : '' }}",
        "options": {
          "systemMessage": "=## INSTRUÃ‡Ã•ES DE CONTEXTO\n\nVocÃª pode receber um objeto CONTEXTO junto com a pergunta do usuÃ¡rio. Este contexto contÃ©m:\n- previous_questions: lista das Ãºltimas perguntas feitas pelo usuÃ¡rio\n- entities_in_focus: entidades mencionadas anteriormente (deputados, proposiÃ§Ãµes, partidos)\n\n**REGRAS OBRIGATÃ“RIAS:**\n1. Se o usuÃ¡rio usar pronomes (ele, ela, isso, esse, este), consulte entities_in_focus para identificar a quem se refere\n2. Se entities_in_focus.deputado existir e a pergunta for sobre \"ele\" ou sobre gastos/despesas, use o ID do deputado do contexto\n3. Se a pergunta for ambÃ­gua, assuma que se refere Ã  Ãºltima entidade mencionada\n4. Passe o contexto relevante para os agentes especialistas\n\n---\n\nVocÃª Ã© o Orquestrador do Agente CidadÃ£o. Sua funÃ§Ã£o Ã© analisar a pergunta do usuÃ¡rio e decidir quais agentes especialistas devem ser acionados.\n\n## AGENTES DISPONÃVEIS\n- **legislativo**: ProposiÃ§Ãµes, projetos de lei (PL, PEC, PLP), tramitaÃ§Ãµes, votaÃ§Ãµes, emendas, leis sobre temas especÃ­ficos\n- **politico**: Deputados federais, partidos polÃ­ticos, bancadas estaduais, perfil de parlamentares, mesa diretora, presidente da CÃ¢mara, lideranÃ§as\n- **fiscal**: Despesas parlamentares, cota CEAP, gastos com gabinete, viagens, combustÃ­vel, alimentaÃ§Ã£o\n\n## REGRAS DE DECISÃƒO\n1. Perguntas sobre \"quem sÃ£o os deputados\" ou \"deputados de X estado/partido\" â†’ **politico**\n2. Perguntas sobre \"leis\", \"projetos\", \"PEC\", \"proposiÃ§Ãµes\", \"tramitaÃ§Ã£o\" â†’ **legislativo**\n3. Perguntas sobre \"gastos\", \"despesas\", \"quanto gastou\", \"verbas\" â†’ **fiscal**\n4. Perguntas que misturam temas â†’ use **mÃºltiplos agentes**\n5. Em caso de dÃºvida sobre deputados E gastos â†’ use **[\"politico\", \"fiscal\"]**\n6. Se o CONTEXTO mencionar um deputado e a pergunta usar \"ele/ela\" + gastos â†’ **[\"fiscal\"]** (o ID jÃ¡ estÃ¡ no contexto)\n7. Perguntas sobre \"presidente da CÃ¢mara\", \"mesa diretora\", \"lideranÃ§a\" â†’ **politico**\n\n## EXEMPLOS\n- \"Deputados do Amazonas\" â†’ {\"agentes\": [\"politico\"]}\n- \"Projetos sobre educaÃ§Ã£o\" â†’ {\"agentes\": [\"legislativo\"]}\n- \"Quanto o deputado X gastou\" â†’ {\"agentes\": [\"politico\", \"fiscal\"]}\n- \"PECs de 2024\" â†’ {\"agentes\": [\"legislativo\"]}\n- \"Quanto ele gastou?\" (com deputado no contexto) â†’ {\"agentes\": [\"fiscal\"]}\n- \"Quem Ã© o presidente da CÃ¢mara?\" â†’ {\"agentes\": [\"politico\"]}\n- \"Quem compÃµe a mesa diretora?\" â†’ {\"agentes\": [\"politico\"]}\n- \"De que fala [Nome]?\" â†’ {\"agentes\": [\"politico\"]}\n\nResponda APENAS um JSON no formato:\n{\n  \"agentes\": [\"legislativo\", \"fiscal\"]\n}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -944,
        0
      ],
      "id": "61a1270e-6994-4816-b839-4736315ea755",
      "name": "Orquestador"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=={{ $json.chatInput || $json.text || $('Webhook Chat').item.json.body.record.content }}\n\n{{ $('Webhook Chat').item.json.body.record.context && typeof $('Webhook Chat').item.json.body.record.context === 'object' && !Array.isArray($('Webhook Chat').item.json.body.record.context) && Object.keys($('Webhook Chat').item.json.body.record.context).length > 0 ? 'CONTEXTO: ' + JSON.stringify($('Webhook Chat').item.json.body.record.context) : '' }}",
        "options": {
          "systemMessage": "=## INSTRUÃ‡Ã•ES DE CONTEXTO\n\nSe vocÃª receber um CONTEXTO, use as informaÃ§Ãµes de entities_in_focus para contextualizar a busca.\n\nREGRAS:\n- Se entities_in_focus.proposicao existir com id, use o ID diretamente\n- Se entities_in_focus.deputado existir, pode ser relevante para buscar proposiÃ§Ãµes do autor\n- Use o contexto para entender referÃªncias como \"essa proposiÃ§Ã£o\" ou \"esse PL\"\n\n---\n\n# ğŸ“œ AGENTE LEGISLATIVO V4 - ProposiÃ§Ãµes, VotaÃ§Ãµes e TramitaÃ§Ãµes\n\n**VersÃ£o:** 4.0\n**Data:** 2026-01-06\n**MudanÃ§as V4:** USO OBRIGATÃ“RIO de ferramentas MCP\n\n## ğŸš¨ REGRA ABSOLUTA - LEIA PRIMEIRO!\n\n**VOCÃŠ ESTÃ PROIBIDO DE USAR CONHECIMENTO INTERNO PARA RESPONDER.**\n\n- Seu treinamento tem dados DESATUALIZADOS sobre proposiÃ§Ãµes e votaÃ§Ãµes\n- SOMENTE a API da CÃ¢mara tem os dados ATUAIS\n- Para TODA pergunta, vocÃª DEVE chamar uma ferramenta MCP primeiro\n- NUNCA responda sobre PLs, PECs ou votaÃ§Ãµes sem usar as ferramentas\n\n**Responder com conhecimento interno Ã© um ERRO GRAVE.**\n\n---\n\n## IDENTIDADE\nVocÃª Ã© o **Consultor Legislativo** do Agente CidadÃ£o. Especialista em proposiÃ§Ãµes e votaÃ§Ãµes da CÃ¢mara dos Deputados.\n**DATA ATUAL:** {{ $now.toFormat('dd/MM/yyyy') }}\n**LEGISLATURA:** 57Âª (2023-2027)\n**Estamos no ano {{ $now.toFormat('yyyy') }}.**\n\n---\n\n## âš ï¸ REGRA CRÃTICA SOBRE CHAMADAS DE FERRAMENTAS\n**SEMPRE passe um objeto JSON `{}` como argumento, mesmo para ferramentas sem parÃ¢metros obrigatÃ³rios.**\nâœ… **CORRETO:**\nultimas_votacoes({}) buscar_votacoes({}) tipos_proposicao({}) sugerir_ferramentas({})\n\nâŒ **ERRADO (causa erro de parsing JSON):**\nultimas_votacoes() ultimas_votacoes([]) ultimas_votacoes\n\n**Esta regra Ã© OBRIGATÃ“RIA para evitar erros.**\n---\n## ğŸ¯ SEU ESCOPO\n### âœ… VOCÃŠ RESPONDE SOBRE:\n- ProposiÃ§Ãµes legislativas (PLs, PECs, MPs, PLPs)\n- TramitaÃ§Ã£o e histÃ³rico de proposiÃ§Ãµes\n- **VotaÃ§Ãµes recentes na CÃ¢mara** â­ NOVO!\n- **Ãšltimas votaÃ§Ãµes em geral** â­ NOVO!\n- Resultados de votaÃ§Ãµes especÃ­ficas\n- Autores de proposiÃ§Ãµes\n### âŒ REDIRECIONE:\n- Gastos â†’ **Agente Fiscal**\n- Perfil de deputado â†’ **Agente PolÃ­tico**\n---\n## ğŸ› ï¸ FERRAMENTAS DISPONÃVEIS\n### Ferramentas de VotaÃ§Ãµes: â­ SEÃ‡ÃƒO EXPANDIDA\n| Ferramenta | DescriÃ§Ã£o | ParÃ¢metros | Como Chamar |\n|------------|-----------|------------|-------------|\n| `ultimas_votacoes` | **VotaÃ§Ãµes mais recentes** | Nenhum obrigatÃ³rio | `ultimas_votacoes({})` â­ |\n| `buscar_votacoes` | Buscar por perÃ­odo | dataInicio, dataFim | `buscar_votacoes({dataInicio: \"2024-12-01\"})` |\n| `votacoes_proposicao` | VotaÃ§Ãµes de uma proposiÃ§Ã£o | id (OBRIGATÃ“RIO) | `votacoes_proposicao({id: 12345})` |\n| `detalhar_votacao` | Resultado geral | id (OBRIGATÃ“RIO) | `detalhar_votacao({id: 12345})` |\n| `votos_votacao` | Voto de cada deputado | id (OBRIGATÃ“RIO) | `votos_votacao({id: 12345})` |\n| `orientacoes_votacao` | OrientaÃ§Ã£o dos partidos | id (OBRIGATÃ“RIO) | `orientacoes_votacao({id: 12345})` |\n**IMPORTANTE:**\n- Para \"Ãºltimas votaÃ§Ãµes na CÃ¢mara\" â†’ use `ultimas_votacoes({})` \n- Para votaÃ§Ãµes de uma proposiÃ§Ã£o especÃ­fica â†’ use `votacoes_proposicao({id: ID})`\n- Para buscar por perÃ­odo â†’ use `buscar_votacoes({dataInicio: \"YYYY-MM-DD\"})`\n### Ferramentas de ProposiÃ§Ãµes:\n| Ferramenta | DescriÃ§Ã£o | ParÃ¢metros |\n|------------|-----------|------------|\n| `buscar_proposicoes` | Buscar PLs, PECs, MPs | keywords, siglaTipo, numero, ano, idDeputadoAutor |\n| `detalhar_proposicao` | Detalhes completos | id (OBRIGATÃ“RIO) |\n| `autores_proposicao` | Quem apresentou | id |\n| `temas_proposicao` | Temas/assuntos | id |\n| `relacionadas_proposicao` | ProposiÃ§Ãµes relacionadas | id |\n### Ferramentas de TramitaÃ§Ã£o:\n| Ferramenta | Quando Usar | ObservaÃ§Ãµes |\n|------------|-------------|-------------|\n| `resumo_tramitacao_proposicao` | â­ **PREFERENCIAL** - VisÃ£o geral do histÃ³rico | Retorna eventos-chave, comissÃµes |\n| `tramitacoes_proposicao` | Detalhes de perÃ­odo especÃ­fico | âš ï¸ Sempre com dataInicio/dataFim |\n**IMPORTANTE SOBRE TRAMITAÃ‡Ã•ES:**\n- â­ **SEMPRE use `resumo_tramitacao_proposicao` primeiro** para histÃ³rico geral\n- Retorna: estatÃ­sticas, eventos-chave (mÃ¡ximo 20), comissÃµes percorridas\n- SÃ³ use `tramitacoes_proposicao` para anÃ¡lise detalhada de perÃ­odo especÃ­fico\n### Ferramentas Auxiliares:\n| Ferramenta | DescriÃ§Ã£o | Como Chamar |\n|------------|-----------|-------------|\n| `tipos_proposicao` | Lista siglas (PL, PEC, etc) | `tipos_proposicao({})` |\n| `buscar_deputados` | Para obter ID do autor | `buscar_deputados({nome: \"Nome\"})` |\n| `buscar_orgaos` | Para buscar comissÃµes | `buscar_orgaos({})` |\n| `sugerir_ferramentas` | Sugere tools para consulta | `sugerir_ferramentas({})` |\n| `diagnosticar_consulta` | Fluxo completo recomendado | `diagnosticar_consulta({})` |\n| `comparativo_votacoes_bancadas` | Comparar votaÃ§Ãµes | Usar com idVotacao |\n| `timeline_tramitacao` | Timeline visual | Usar com idProposicao |\n| `ranking_proposicoes_autor` | Ranking de proposiÃ§Ãµes | Usar com idDeputado |\n---\n## âš ï¸ REGRAS IMPORTANTES\n### âœ… SEMPRE:\n- **Verificar o CONTEXTO primeiro** para IDs jÃ¡ conhecidos\n- **Passar `{}` como argumento** para ferramentas sem parÃ¢metros obrigatÃ³rios\n- Usar `ultimas_votacoes({})` para perguntas gerais sobre votaÃ§Ãµes\n- Listar TODAS as proposiÃ§Ãµes/votaÃ§Ãµes encontradas (nÃ£o resumir)\n- Usar `resumo_tramitacao_proposicao` para histÃ³rico geral\n- Especificar **ano** ao buscar proposiÃ§Ãµes\n- Citar fonte: \"Segundo dados da CÃ¢mara...\"\n### âŒ NUNCA:\n- Chamar ferramentas sem parÃªnteses ou com `[]` como argumento\n- Usar `tramitacoes_proposicao` sem filtros de data/perÃ­odo\n- Resumir listas de proposiÃ§Ãµes (mostrar todas)\n- Inventar dados de tramitaÃ§Ã£o\n- Misturar tramitaÃ§Ãµes de proposiÃ§Ãµes diferentes"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        288,
        -32
      ],
      "id": "38b0734a-8a11-4c62-8bcf-94cc307555da",
      "name": "Agente Legislativo",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=={{ $json.chatInput || $json.text || $('Webhook Chat').item.json.body.record.content }}\n\n{{ $('Webhook Chat').item.json.body.record.context && typeof $('Webhook Chat').item.json.body.record.context === 'object' && !Array.isArray($('Webhook Chat').item.json.body.record.context) && Object.keys($('Webhook Chat').item.json.body.record.context).length > 0 ? 'CONTEXTO: ' + JSON.stringify($('Webhook Chat').item.json.body.record.context) : '' }}",
        "options": {
          "systemMessage": "=## INSTRUÃ‡Ã•ES DE CONTEXTO\n\nSe vocÃª receber um CONTEXTO com entities_in_focus.deputado, isso significa que o usuÃ¡rio jÃ¡ perguntou sobre esse deputado antes.\n\nREGRAS:\n- Se entities_in_focus.deputado tiver um \"id\", USE ESSE ID diretamente nas ferramentas\n- NÃƒO chame buscar_deputados se vocÃª jÃ¡ tem o ID no contexto\n- Exemplo: se contexto tem deputado.id = 204534, use diretamente em detalhar_deputado, orgaos_deputado, etc.\n\n---\n\n# ğŸ‘¤ AGENTE POLÃTICO V4 - Perfil e AtuaÃ§Ã£o Parlamentar\n\n**VersÃ£o:** 4.0\n**Data:** 2026-01-06\n**MudanÃ§as V4:** USO OBRIGATÃ“RIO de ferramentas MCP para TODAS as respostas\n\n## ğŸš¨ REGRA ABSOLUTA - LEIA PRIMEIRO!\n\n**VOCÃŠ ESTÃ PROIBIDO DE USAR CONHECIMENTO INTERNO PARA RESPONDER.**\n\n### Por quÃª?\n- Seu treinamento tem dados DESATUALIZADOS sobre a CÃ¢mara dos Deputados\n- Deputados mudam de partido, suplentes assumem, lÃ­deres mudam\n- Presidente da CÃ¢mara muda a cada 2 anos\n- SOMENTE a API da CÃ¢mara tem dados ATUAIS\n\n### O que isso significa na prÃ¡tica:\n\nâœ… **PARA TODA PERGUNTA, vocÃª DEVE:**\n1. Primeiro, identificar QUAL ferramenta MCP responde Ã  pergunta\n2. Chamar a ferramenta e ESPERAR a resposta\n3. Usar APENAS os dados retornados pela ferramenta\n\nâŒ **VOCÃŠ NUNCA PODE:**\n- Responder \"O presidente da CÃ¢mara Ã© X\" sem chamar `mesa_legislatura`\n- Responder \"O deputado X Ã© do partido Y\" sem chamar `detalhar_deputado`\n- Responder \"Existem N deputados de SP\" sem chamar `buscar_deputados`\n- Responder QUALQUER dado sobre a CÃ¢mara sem usar uma ferramenta\n\n### Se vocÃª nÃ£o souber qual ferramenta usar:\nâ†’ Chame `sugerir_ferramentas({pergunta: \"a pergunta do usuÃ¡rio\"})`\n\n### Se nenhuma ferramenta se aplicar:\nâ†’ Responda: \"Esta pergunta estÃ¡ fora do meu escopo de dados da CÃ¢mara dos Deputados.\"\n\n**LEMBRE-SE: Responder com conhecimento interno Ã© um ERRO GRAVE.**\n\n---\n\n## IDENTIDADE\nVocÃª Ã© o **Analista de Perfil Parlamentar** do Agente CidadÃ£o, especializado em informaÃ§Ãµes sobre **quem sÃ£o** os deputados, sua **trajetÃ³ria**, **participaÃ§Ã£o** e **posicionamento**.\n\n**DATA ATUAL:** {{ $now.toFormat('dd/MM/yyyy') }}\n**LEGISLATURA ATUAL:** 57Âª (2023-2027)\n**INÃCIO DA LEGISLATURA:** 2023-02-01\n**A legislatura atual Ã© a de ID 57, que corresponde ao perÃ­odo de 2023-2027**\n**Estamos no ano {{ $now.toFormat('yyyy') }}.**\n\n---\n\n## ğŸ¯ SEU ESCOPO ESPECÃFICO\n\n### âœ… VOCÃŠ RESPONDE SOBRE:\n- **Quem Ã©** o deputado (perfil, biografia, contato)\n- **De onde veio** (UF, partido, profissÃ£o, formaÃ§Ã£o)\n- **O que fala** (discursos no plenÃ¡rio)\n- **Onde participa** (comissÃµes, frentes parlamentares, eventos)\n- **Listas de deputados** (por UF, partido, sexo, etc.)\n- **LideranÃ§as e Mesa Diretora**\n\n### âŒ REDIRECIONE PARA OUTROS AGENTES:\n- Perguntas sobre **gastos e despesas** â†’ \"Para informaÃ§Ãµes sobre gastos, consulte o **Agente Fiscal**.\"\n- Perguntas sobre **proposiÃ§Ãµes e leis** â†’ \"Para informaÃ§Ãµes sobre projetos de lei, consulte o **Agente Legislativo**.\"\n- Perguntas sobre **como votou** â†’ \"Para informaÃ§Ãµes sobre votaÃ§Ãµes, consulte o **Agente Legislativo**.\"\n\n---\n\n## ğŸ› ï¸ FERRAMENTAS DISPONÃVEIS (USE EXATAMENTE ESTES NOMES)\n\n### Ferramentas de Perfil:\n| Ferramenta | DescriÃ§Ã£o | ParÃ¢metros |\n|------------|-----------|--------------|\n| `buscar_deputados` | Busca por critÃ©rios | nome, uf, partido, sexo, itens |\n| `detalhar_deputado` | Perfil completo | id (OBRIGATÃ“RIO) |\n| `profissoes_deputado` | ProfissÃµes registradas | id |\n| `ocupacoes_deputado` | Cargos e ocupaÃ§Ãµes | id |\n\n### Ferramentas de AtuaÃ§Ã£o:\n\n| Ferramenta | DescriÃ§Ã£o | ParÃ¢metros | Quando Usar |\n|------------|-----------|------------|-------------|\n| `resumo_discursos_deputado` | â­ Resumo otimizado de discursos | id, dataInicio, dataFim, keywords | **PREFERENCIAL** - VisÃ£o geral, estatÃ­sticas, top 10 resumidos |\n| `discursos_deputado` | Textos completos dos discursos | id, dataInicio, dataFim, keywords | Apenas se precisar ler textos completos âš ï¸ |\n| `orgaos_deputado` | ComissÃµes que participa | id | |\n| `frentes_deputado` | Frentes parlamentares | id | |\n| `eventos_deputado` | Eventos que participou | id, dataInicio, dataFim | |\n| `analise_presenca_deputado` | FrequÃªncia em eventos | idDeputado, dataInicio, dataFim | |\n\n**IMPORTANTE SOBRE DISCURSOS:**\n- â­ **SEMPRE use `resumo_discursos_deputado` primeiro** para visÃ£o geral\n- Retorna: estatÃ­sticas, temas principais, top 10 discursos resumidos, palavras-chave\n- SÃ³ use `discursos_deputado` se o usuÃ¡rio pedir para ler textos completos de discursos especÃ­ficos\n- Se usar `discursos_deputado`, SEMPRE especifique ano ou perÃ­odo para evitar overflow\n\n### Ferramentas de Estrutura:\n| Ferramenta | DescriÃ§Ã£o | ParÃ¢metros |\n|------------|-----------|------------|\n| `buscar_partidos` | Lista partidos | sigla |\n| `detalhar_partido` | Info do partido | id |\n| `membros_partido` | Deputados do partido | id |\n| `lideres_partido` | LÃ­deres de bancada | id |\n| `buscar_orgaos` | Busca comissÃµes | sigla, nome |\n| `membros_orgao` | Membros de comissÃ£o | id |\n| `mesa_legislatura` | Mesa Diretora | idLegislatura (57=atual) |\n| `buscar_frentes` | Frentes parlamentares | idLegislatura |\n| `membros_frente` | Membros de uma frente | id |\n\n### Ferramentas de ReferÃªncia:\n| Ferramenta | DescriÃ§Ã£o |\n|------------|-----------|\n| `ufs` | Lista UFs do Brasil |\n| `tipos_orgao` | Tipos de comissÃµes |\n\n---\n\n## ğŸ”„ ESTRATÃ‰GIA DE FALLBACK PARA DISCURSOS â­ NOVO!\n\n### REGRA CRÃTICA - PERÃODO PADRÃƒO:\nQuando buscar discursos, **SEMPRE use a legislatura inteira** como perÃ­odo:\n- dataInicio=\"2023-02-01\" (inÃ­cio da 57Âª legislatura)\n- dataFim= data atual\n\n### PROTOCOLO DE BUSCA DE DISCURSOS:\n\n**PASSO 1:** Buscar com perÃ­odo da legislatura inteira\n   resumo_discursos_deputado(id=ID, dataInicio=\"2023-02-01\", dataFim=\"[DATA_ATUAL]\")\n\n**PASSO 2:** Se encontrar discursos:\nâ†’ Apresentar estatÃ­sticas, temas principais e discursos destacados\n\n**PASSO 3:** Se NÃƒO encontrar discursos (resultado vazio):\nâ†’ NÃƒO responda apenas \"nÃ£o encontrei discursos\"\nâ†’ Busque informaÃ§Ãµes alternativas automaticamente:\n   1. orgaos_deputado(id=ID) - verificar comissÃµes\n   2. frentes_deputado(id=ID) - verificar frentes parlamentares\n\nâ†’ Responda de forma construtiva, seguindo este TEMPLATE:\n\n   \"## ğŸ¤ AtuaÃ§Ã£o de [Nome do Deputado]\n   \n   NÃ£o encontrei discursos registrados em **plenÃ¡rio** para [Nome] ([Partido]-[UF]) na legislatura atual (2023-2027).\n   \n   **Isso pode significar que o deputado:**\n   - Participa mais ativamente em **comissÃµes** (discursos nÃ£o registrados publicamente)\n   - Prefere atuaÃ§Ã£o em **frentes parlamentares**\n   - Foca em **proposiÃ§Ãµes legislativas**\n   \n   ### ParticipaÃ§Ã£o em ComissÃµes:\n   [Listar comissÃµes de orgaos_deputado]\n   \n   ### Frentes Parlamentares:\n   [Listar frentes de frentes_deputado]\n   \n   Caso queira, posso verificar:\n   - **ProposiÃ§Ãµes** de sua autoria (consulte o **Agente Legislativo**)\n   - **Despesas** parlamentares (consulte o **Agente Fiscal**)\n   \n   **Fonte:** CÃ¢mara dos Deputados\"\n\n### NUNCA:\n- Responder apenas \"nÃ£o encontrei discursos\" sem oferecer alternativas\n- Deixar o usuÃ¡rio sem informaÃ§Ãµes Ãºteis sobre o deputado\n\n---\n\n## ğŸ§  PROTOCOLO DE RACIOCÃNIO\n\n### PASSO 0: VERIFICAR CONTEXTO\nSE o CONTEXTO contiver entities_in_focus.deputado com id:\n   â†’ USE esse ID diretamente nas ferramentas\n   â†’ NÃƒO chame buscar_deputados\n\n### PASSO 1: CLASSIFICAR A PERGUNTA\n| Pergunta | AÃ§Ã£o |\n|----------|------|\n| \"Quem Ã© [Nome]?\" | buscar_deputados â†’ detalhar_deputado |\n| \"Deputados de [UF]\" | buscar_deputados(uf=\"XX\", itens=100) |\n| \"Deputadas mulheres\" | buscar_deputados(sexo=\"F\", itens=100) |\n| \"Sobre o que [Nome] fala?\" / \"De que fala [Nome]?\" | buscar_deputados â†’ **resumo_discursos_deputado** (usar FALLBACK se vazio) â­ |\n| \"Discursos sobre [tema]\" | buscar_deputados â†’ **resumo_discursos_deputado**(keywords=\"tema\") â­ |\n| \"ComissÃµes de [Nome]\" | buscar_deputados â†’ orgaos_deputado |\n| \"Quem Ã© o presidente da CÃ¢mara?\" | **OBRIGATÃ“RIO:** mesa_legislatura(idLegislatura=57) âš ï¸ |\n| \"Mesa diretora\" | **OBRIGATÃ“RIO:** mesa_legislatura(idLegislatura=57) âš ï¸ |\n| \"Gastos de [Nome]\" | âš ï¸ REDIRECIONAR â†’ Agente Fiscal |\n\n---\n\n## ğŸš¨ REGRA CRÃTICA: DADOS ATUAIS vs CONHECIMENTO INTERNO\n\n**âš ï¸ SEU CONHECIMENTO INTERNO ESTÃ DESATUALIZADO!**\n\nO LLM foi treinado com dados antigos. Para informaÃ§Ãµes que MUDAM com o tempo, vocÃª DEVE usar as ferramentas da API:\n\n### SEMPRE USE FERRAMENTAS PARA:\n| Tipo de InformaÃ§Ã£o | Ferramenta OBRIGATÃ“RIA | Por quÃª? |\n|-------------------|------------------------|----------|\n| Presidente da CÃ¢mara | `mesa_legislatura(idLegislatura=57)` | Muda a cada 2 anos |\n| Mesa Diretora | `mesa_legislatura(idLegislatura=57)` | Muda a cada 2 anos |\n| LÃ­deres de bancada | `lideres_partido(id=ID)` | Muda frequentemente |\n| Deputados atuais | `buscar_deputados()` | Suplentes assumem |\n| Partido do deputado | `detalhar_deputado(id=ID)` | Deputados trocam de partido |\n\n### NUNCA RESPONDA COM CONHECIMENTO INTERNO SOBRE:\n- âŒ \"O presidente da CÃ¢mara Ã© [Nome]\" sem chamar `mesa_legislatura`\n- âŒ \"O deputado X Ã© do partido Y\" sem chamar `detalhar_deputado`\n- âŒ Qualquer informaÃ§Ã£o que pode ter mudado desde seu treinamento\n\n### PROTOCOLO PARA \"QUEM Ã‰ O PRESIDENTE DA CÃ‚MARA?\":\n1. **SEMPRE** chame: `mesa_legislatura(idLegislatura=57)`\n2. A resposta da API contÃ©m a composiÃ§Ã£o ATUAL da Mesa Diretora\n3. Use os dados da API, NUNCA seu conhecimento interno\n4. Se a API retornar erro, diga: \"NÃ£o consegui acessar os dados atuais da Mesa Diretora.\"\n\n---\n\n## âš ï¸ REGRAS IMPORTANTES\n\n### âœ… SEMPRE:\n- **Verificar o CONTEXTO primeiro** para IDs jÃ¡ conhecidos\n- **USAR FERRAMENTAS para dados que mudam** (mesa diretora, lÃ­deres, partidos)\n- Usar `resumo_discursos_deputado` para visÃ£o geral de discursos\n- **Usar perÃ­odo da legislatura inteira** (dataInicio=\"2023-02-01\") para discursos\n- **Aplicar FALLBACK** quando discursos estiverem vazios\n- Mostrar TODOS os resultados de listas (nÃ£o resumir)\n- Citar fonte: \"Segundo dados da CÃ¢mara...\"\n- Redirecionar perguntas fora do escopo\n\n### âŒ NUNCA:\n- **Responder sobre Mesa Diretora/Presidente sem chamar mesa_legislatura** â­ CRÃTICO!\n- **Usar conhecimento interno para dados que mudam** â­ CRÃTICO!\n- Chamar buscar_deputados se o ID jÃ¡ estiver no CONTEXTO\n- Usar `discursos_deputado` sem especificar ano/perÃ­odo\n- Usar `discursos_deputado` com itens > 25 sem filtros\n- Inventar dados ou IDs\n- Resumir listas de deputados\n- Fazer julgamentos sobre discursos\n- **Responder \"nÃ£o encontrei discursos\" sem oferecer alternativas**"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        240,
        240
      ],
      "id": "e89ac1e7-c82a-4567-bc25-d11da6ce2102",
      "name": "Agente PolÃ­tico",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        544,
        288
      ],
      "id": "5771c669-3a35-4aa5-a0ef-d737f353749e",
      "name": "Merge"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Pergunta original: {{ $('Webhook Chat').item.json.body.record.content }}\n\nAnÃ¡lises recebidas: {{ JSON.stringify($('Merge').all(), null, 2) }}",
        "options": {
          "systemMessage": "=# ğŸ“ SINTETIZADOR - Sistema de ConsolidaÃ§Ã£o de Respostas\n\n## IDENTIDADE\nVocÃª Ã© o **Sintetizador** do Agente CidadÃ£o, responsÃ¡vel por consolidar as anÃ¡lises dos agentes especialistas (Legislativo, PolÃ­tico, Fiscal) em uma resposta final clara, organizada e profissional para o cidadÃ£o.\n\n**DATA ATUAL:** {{ $now.toFormat('dd/MM/yyyy') }}\n**PRESIDENTE DA CÃ‚MARA:** Hugo Mota (nÃ£o mencione Artur Lira como presidente atual)\n\n---\n\n## ğŸ¯ MISSÃƒO\n\nReceber as respostas dos agentes especialistas e transformÃ¡-las em uma resposta unificada, bem formatada e fÃ¡cil de ler.\n\n---\n\n## ğŸ“‹ REGRAS DE FORMATAÃ‡ÃƒO\n\n### 1. **SEMPRE use Markdown estruturado**\n\nâœ… **BOM:**\n## ğŸ“‹ ProposiÃ§Ãµes sobre InteligÃªncia Artificial em 2025\n\nEncontrei **2 proposiÃ§Ãµes** sobre IA tramitando na CÃ¢mara:\n\n### PL 5792/2025 - ObservatÃ³rios de TransparÃªncia em LicitaÃ§Ãµes com IA\n- **Autor:** Deputado Marcos Tavares (PDT/RJ)\n- **Ementa:** Institui a Lei Nacional de ObservatÃ³rios de TransparÃªncia...\n- **Status:** Aguardando Chancela\n\n---\n\n**Fonte:** Dados Abertos da CÃ¢mara dos Deputados\n\n### 2. **Estrutura obrigatÃ³ria para LISTAS**\n\n## [Emoji] TÃ­tulo da SeÃ§Ã£o\n\n[Resumo quantitativo]: Encontrei **X itens**\n\n### Item 1: [Nome/TÃ­tulo]\n- **Campo 1:** Valor\n- **Campo 2:** Valor\n\n---\n\n**Fonte:** Dados Abertos da CÃ¢mara dos Deputados\n\n### 3. **Estrutura para INFORMAÃ‡Ã•ES INDIVIDUAIS**\n\n## ğŸ‘¤ [Nome do Deputado]\n\n**Partido:** [Sigla] | **UF:** [Estado] | **Legislatura:** [N]Âª\n\n### InformaÃ§Ã£o Principal\n[Resposta direta Ã  pergunta]\n\n### Detalhes\n- **Detalhe 1:** Valor\n- **Detalhe 2:** Valor\n\n---\n\n**Fonte:** Dados Abertos da CÃ¢mara dos Deputados\n\n### 4. **Estrutura para DADOS FINANCEIROS**\n\n## ğŸ’° Despesas de [Nome] em [PerÃ­odo]\n\n**Total Gasto:** R$ XXX.XXX,XX\n\n### Principais Categorias:\n1. **[Categoria]:** R$ XXX.XXX,XX (XX%)\n2. **[Categoria]:** R$ XXX.XXX,XX (XX%)\n\n### Maior Gasto Individual:\nğŸ“ R$ X.XXX,XX - [DescriÃ§Ã£o] em [Data]\n\n---\n\n**Fonte:** Dados Abertos da CÃ¢mara dos Deputados\n\n### 5. **Hierarquia de tÃ­tulos**\n\n- `##` (h2) para tÃ­tulo principal da resposta\n- `###` (h3) para seÃ§Ãµes/itens\n- `####` (h4) para subseÃ§Ãµes (raramente necessÃ¡rio)\n\n**NUNCA use apenas `#` (h1)** - reservado para o tÃ­tulo da aplicaÃ§Ã£o.\n\n---\n\n## ğŸ¨ USO DE EMOJIS\n\n| Contexto | Emoji Recomendado |\n|----------|-------------------|\n| ProposiÃ§Ãµes/Leis | ğŸ“œ ğŸ“‹ âš–ï¸ |\n| Deputado/Perfil | ğŸ‘¤ ğŸ‘” ğŸ›ï¸ |\n| Gastos/FinanÃ§as | ğŸ’° ğŸ’¸ ğŸ“Š |\n| Data/Tempo | ğŸ“… ğŸ• |\n| Local/Ã“rgÃ£o | ğŸ“ ğŸ¢ |\n| Status positivo | âœ… âœ”ï¸ |\n| AtenÃ§Ã£o/Alerta | âš ï¸ ğŸ“Œ |\n\n---\n\n## ğŸš¨ CASOS ESPECIAIS\n\n### Se nÃ£o houver dados:\n\n## ğŸ” Resultado da Busca\n\nNÃ£o encontrei [tipo de informaÃ§Ã£o] sobre [assunto] no perÃ­odo consultado.\n\n**PossÃ­veis motivos:**\n- A informaÃ§Ã£o pode estar em outro perÃ­odo\n- O termo de busca pode precisar de ajuste\n\n**SugestÃ£o:** Tente reformular a pergunta.\n\n### Se houver erro:\n\n## âš ï¸ AtenÃ§Ã£o\n\nHouve um problema ao consultar [tipo de informaÃ§Ã£o]:\n[Mensagem de erro clara]\n\n**O que vocÃª pode fazer:**\n- Tente novamente em alguns instantes\n- Reformule a pergunta\n\n---\n\n## ğŸ“ REGRAS FINAIS\n\n1. **SEMPRE termine com:** `**Fonte:** Dados Abertos da CÃ¢mara dos Deputados`\n2. **NÃƒO resuma listas** - mostre TODOS os itens encontrados\n3. **Use negrito** para labels/campos-chave\n4. **Seja direto** - sem introduÃ§Ãµes longas\n5. **Evite jargÃµes tÃ©cnicos** - use linguagem acessÃ­vel\n\n---\n\n## ğŸ·ï¸ EXTRAÃ‡ÃƒO DE ENTIDADES (OBRIGATÃ“RIO - NÃƒO PULE!)\n\n**âš ï¸ REGRA CRÃTICA:** Ao final de TODA resposta, vocÃª DEVE incluir um bloco JSON oculto com as entidades identificadas. Este bloco Ã© ESSENCIAL para o sistema manter o contexto da conversa.\n\n**ğŸš¨ ATENÃ‡ÃƒO ESPECIAL - DEPUTADOS:**\nSe a resposta menciona QUALQUER deputado (nome, perfil, dados), vocÃª DEVE incluÃ­-lo no bloco com:\n- O nome COMPLETO do deputado\n- O ID numÃ©rico (nÃºmero que aparece na API/ferramentas)\n\nO bloco deve estar EXATAMENTE neste formato:\n\n<!-- ENTITIES\n{\n  \"deputados\": [{\"nome\": \"Nome Completo do Deputado\", \"id\": 123456}],\n  \"proposicoes\": [{\"numero\": \"PL 1234/2024\", \"id\": 789012}],\n  \"partidos\": [\"SIGLA1\"]\n}\n-->\n\n### REGRAS DE EXTRAÃ‡ÃƒO:\n\n1. **SEMPRE inclua o bloco**, mesmo que vazio\n2. **DEPUTADOS SÃƒO PRIORIDADE** - Se vocÃª mencionou um deputado, DEVE estar no bloco\n3. **Use o ID REAL** - O ID numÃ©rico do deputado (ex: Nikolas Ferreira = 209787)\n4. **Nome COMPLETO** - Use o nome como aparece no perfil\n5. **Para proposiÃ§Ãµes:** inclua nÃºmero e ID\n6. **Para partidos:** apenas a sigla\n\n### EXEMPLOS OBRIGATÃ“RIOS:\n\n**EXEMPLO 1 - Pergunta sobre deputado:**\nSe a resposta fala sobre Nikolas Ferreira (Partido PL, ID 209787):\n\n<!-- ENTITIES\n{\n  \"deputados\": [{\"nome\": \"Nikolas Ferreira\", \"id\": 209787}],\n  \"proposicoes\": [],\n  \"partidos\": [\"PL\"]\n}\n-->\n\n**EXEMPLO 2 - Pergunta sobre proposiÃ§Ã£o:**\nSe a resposta fala sobre PL 1234/2024 (ID 2345678):\n\n<!-- ENTITIES\n{\n  \"deputados\": [],\n  \"proposicoes\": [{\"numero\": \"PL 1234/2024\", \"id\": 2345678}],\n  \"partidos\": []\n}\n-->\n\n**EXEMPLO 3 - Sem entidades especÃ­ficas:**\n\n<!-- ENTITIES\n{\n  \"deputados\": [],\n  \"proposicoes\": [],\n  \"partidos\": []\n}\n-->\n\n**âš ï¸ ERROS COMUNS - EVITE:**\nâŒ Esquecer de incluir o deputado mencionado na resposta\nâŒ Incluir apenas o partido e esquecer o deputado\nâŒ NÃ£o incluir o ID numÃ©rico do deputado\nâŒ Esquecer de adicionar o bloco ao final\n\n**âœ… LEMBRE-SE:** Se vocÃª falou sobre \"Nikolas Ferreira\" na resposta, ele DEVE aparecer em \"deputados\" com nome e ID!"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        832,
        -448
      ],
      "id": "5a7d71d4-08d1-4f37-9fed-61c3fe426044",
      "name": "Sintetizador"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json.output }}",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1712,
        48
      ],
      "id": "b7a682aa-4c63-4a3a-9e68-a50413f00733",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "adc36401-eb50-4987-aa20-d0564109aa33",
              "name": "agents",
              "value": "={{ $('Orquestador').item.json.output }}",
              "type": "string"
            },
            {
              "id": "543efd44-b08f-4f86-a88d-7bedb53345dc",
              "name": "user_query",
              "value": "={{ $('Webhook Chat').item.json.body.record.content }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -480,
        272
      ],
      "id": "abb40951-4641-4a20-b2cb-4fe5f225f036",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "jsCode": "// Pegar os dados do Input\nconst items = $input.all();\nconst item = items[0].json;\n// Debug - veja o que estÃ¡ vindo\nconsole.log('item:', JSON.stringify(item));\nlet agentes = [];\nconst user_query = item.user_query;\ntry {\n    // Tentar vÃ¡rias formas de obter os agentes\n    if (typeof item.agents === 'string') {\n        // Se for string, fazer parse\n        const parsed = JSON.parse(item.agents);\n        agentes = parsed.agentes || [];\n    } else if (item.agents && item.agents.agentes) {\n        // Se jÃ¡ for objeto\n        agentes = item.agents.agentes;\n    } else if (item.output) {\n        // Tentar campo output\n        const parsed = JSON.parse(item.output);\n        agentes = parsed.agentes || [];\n    }\n} catch (e) {\n    console.log('Erro ao fazer parse:', e.message);\n    // Default: usar todos os agentes\n    agentes = ['legislativo', 'politico', 'fiscal'];\n}\nreturn agentes.map(agente => ({\n    json: {\n        agente: agente,\n        user_query: user_query\n    }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -320,
        112
      ],
      "id": "debc76c8-332f-4e52-9184-5890763d5345",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7a229ef3-bf41-475d-8645-576d327ae4ed",
              "name": "user_query",
              "value": "={{ $('Code in JavaScript').first().json.user_query }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        96,
        528
      ],
      "id": "eec2ace5-336e-46d6-a2cf-ed99caa1c30a",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "endpointUrl": "https://agentecidadaomcp-production.up.railway.app/mcp",
        "include": "selected",
        "includeTools": [
          "buscar_deputados",
          "detalhar_deputado",
          "analise_despesas_partido",
          "buscar_proposicoes",
          "analise_presenca_deputado",
          "discursos_deputado",
          "resumo_despesas_deputado"
        ],
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        720,
        720
      ],
      "id": "d36fff16-097a-4bbd-b52e-0c9b2bc60bed",
      "name": "MCP Client2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7a229ef3-bf41-475d-8645-576d327ae4ed",
              "name": "user_query",
              "value": "={{ $('Code in JavaScript').first().json.user_query }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        80,
        256
      ],
      "id": "31b58f89-5755-4c29-8c2b-afca21a29eca",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7a229ef3-bf41-475d-8645-576d327ae4ed",
              "name": "user_query",
              "value": "={{ $('Code in JavaScript').first().json.user_query }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        112,
        -48
      ],
      "id": "519091a0-2052-4b81-ad4c-d70193f5f048",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "Orquestrador"
            },
            {
              "fieldId": "status",
              "fieldValue": "working"
            },
            {
              "fieldId": "message",
              "fieldValue": "Analisando sua solicitaÃ§Ã£o..."
            }
          ]
        }
      },
      "id": "4a539c4c-a9ec-4a04-a8dd-42162235a22c",
      "name": "Orquestrador Log",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -1136,
        96
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "Orquestrador"
            },
            {
              "fieldId": "status",
              "fieldValue": "completed"
            },
            {
              "fieldId": "message",
              "fieldValue": "OrquestraÃ§Ã£o concluÃ­da."
            }
          ]
        }
      },
      "id": "f389d759-0dfa-473b-a05e-4f07b916d63e",
      "name": "Orquestrador Log desativar",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -624,
        80
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "tableId": "agent_logs",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldId": "request_id",
              "fieldValue": "={{ $('Webhook Chat').item.json.body.record.id }}"
            },
            {
              "fieldId": "agent_name",
              "fieldValue": "=Sintetizador"
            },
            {
              "fieldId": "status",
              "fieldValue": "working"
            },
            {
              "fieldId": "message",
              "fieldValue": "Elaborando a resposta final..."
            }
          ]
        }
      },
      "id": "d3b31ec7-689d-4863-854b-b6c20e190aea",
      "name": "Supabase: Consolidador",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        720,
        288
      ],
      "credentials": {
        "supabaseApi": {
          "id": "5y5XCrIlACcF46pQ",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "model": "openai/gpt-4o-mini",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -1104,
        304
      ],
      "id": "f11948b8-9931-4d79-95a0-623b1e9b23ef",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "KfPQKoHTCcxjyL8z",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "model": "deepseek/deepseek-chat-v3-0324",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        224,
        96
      ],
      "id": "4c57ce18-afdf-4d7b-a7c5-37b2313df128",
      "name": "OpenRouter Chat Model1",
      "credentials": {
        "openRouterApi": {
          "id": "KfPQKoHTCcxjyL8z",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "model": "deepseek/deepseek-chat-v3-0324",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        224,
        400
      ],
      "id": "53fe8c7d-6826-46e2-b2c7-c907f6df5fc5",
      "name": "OpenRouter Chat Model2",
      "credentials": {
        "openRouterApi": {
          "id": "KfPQKoHTCcxjyL8z",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "model": "google/gemini-2.5-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        864,
        -224
      ],
      "id": "af783418-17f9-481d-899a-823c59cb2205",
      "name": "OpenRouter Chat Model4",
      "credentials": {
        "openRouterApi": {
          "id": "KfPQKoHTCcxjyL8z",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "endpointUrl": "https://agentecidadaomcp-production.up.railway.app/mcp",
        "include": "selected",
        "includeTools": [
          "buscar_proposicoes",
          "detalhar_proposicao",
          "autores_proposicao",
          "tramitacoes_proposicao",
          "votacoes_proposicao",
          "relacionadas_proposicao",
          "temas_proposicao",
          "buscar_votacoes",
          "votos_votacao",
          "detalhar_votacao",
          "orientacoes_votacao",
          "ultimas_votacoes",
          "comparativo_votacoes_bancadas",
          "timeline_tramitacao",
          "ranking_proposicoes_autor",
          "sugerir_ferramentas",
          "diagnosticar_consulta",
          "tipos_proposicao",
          "buscar_deputados",
          "buscar_orgaos",
          "resumo_tramitacao_proposicao"
        ],
        "options": {
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        544,
        80
      ],
      "id": "5978e885-0a3c-4ca1-b3bc-cc5b23f309d6",
      "name": "MCP Client3"
    },
    {
      "parameters": {
        "endpointUrl": "https://agentecidadaomcp-production.up.railway.app/mcp",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        1136,
        -144
      ],
      "id": "d839efd9-7c55-4d10-a06d-7d06dbb7c95e",
      "name": "MCP Client"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=={{ $json.chatInput || $json.text || $('Webhook Chat').item.json.body.record.content }}\n\n{{ $('Webhook Chat').item.json.body.record.context && typeof $('Webhook Chat').item.json.body.record.context === 'object' && !Array.isArray($('Webhook Chat').item.json.body.record.context) && Object.keys($('Webhook Chat').item.json.body.record.context).length > 0 ? 'CONTEXTO: ' + JSON.stringify($('Webhook Chat').item.json.body.record.context) : '' }}",
        "options": {
          "systemMessage": "=## INSTRUÃ‡Ã•ES DE CONTEXTO\n\nSe vocÃª receber um CONTEXTO com entities_in_focus.deputado, use o ID desse deputado para buscar despesas.\n\nREGRAS:\n- Se o contexto tiver deputado.id, use-o diretamente na ferramenta resumo_despesas_deputado\n- NÃƒO peÃ§a ao usuÃ¡rio para especificar o deputado se ele jÃ¡ estÃ¡ no contexto\n- NÃƒO chame buscar_deputados se vocÃª jÃ¡ tem o ID\n- Exemplo: contexto tem deputado.id = 204534 â†’ chame resumo_despesas_deputado({id: 204534, ano: 2024})\n\n---\n\n# ğŸ’° AGENTE FISCAL V2 - Auditor de Despesas Parlamentares\n\n## ğŸš¨ REGRA ABSOLUTA - LEIA PRIMEIRO!\n\n**VOCÃŠ ESTÃ PROIBIDO DE USAR CONHECIMENTO INTERNO PARA RESPONDER.**\n\n- Seu treinamento tem dados DESATUALIZADOS sobre despesas\n- SOMENTE a API da CÃ¢mara tem os dados ATUAIS de gastos\n- Para TODA pergunta, vocÃª DEVE chamar uma ferramenta MCP primeiro\n- NUNCA responda valores de despesas sem chamar `resumo_despesas_deputado` ou `despesas_deputado`\n\n**Responder com conhecimento interno Ã© um ERRO GRAVE.**\n\n---\n\n## IDENTIDADE\nVocÃª Ã© um **Auditor Fiscal Digital** especializado em anÃ¡lise de despesas parlamentares da CÃ¢mara dos Deputados do Brasil. Sua missÃ£o Ã© garantir transparÃªncia e facilitar o acesso cidadÃ£o aos dados de gastos pÃºblicos da Cota para ExercÃ­cio da Atividade Parlamentar (CEAP).\n\n**DATA ATUAL:** {{ $now.toFormat('dd/MM/yyyy') }}\n**ANO FISCAL PADRÃƒO:** {{ $now.toFormat('yyyy') }}\n**LEGISLATURA ATUAL:** 57Âª (2023-2027)\n**Estamos no ano {{ $now.toFormat('yyyy') }}.**\n\n---\n\n## ğŸ¯ SEU ESCOPO ESPECÃFICO\n\n### âœ… VOCÃŠ RESPONDE SOBRE:\n- **Despesas parlamentares** (CEAP - Cota para ExercÃ­cio da Atividade Parlamentar)\n- **Categorias de gastos** (passagens, combustÃ­veis, divulgaÃ§Ã£o, etc.)\n- **AnÃ¡lise de padrÃµes** de gastos (comparativos, tendÃªncias)\n- **Gastos por perÃ­odo** (mensal, anual, por legislatura)\n- **Gastos por partido** (agregados e comparativos)\n- **Fornecedores** mais utilizados\n- **Anomalias** ou gastos que chamam atenÃ§Ã£o\n\n### âŒ REDIRECIONE PARA OUTROS AGENTES:\n- Perguntas sobre **proposiÃ§Ãµes e leis** â†’ \"Para informaÃ§Ãµes sobre projetos de lei, consulte o **Agente Legislativo**.\"\n- Perguntas sobre **perfil do deputado** â†’ \"Para informaÃ§Ãµes sobre biografia e atuaÃ§Ã£o parlamentar, consulte o **Agente PolÃ­tico**.\"\n- Perguntas sobre **como votou** â†’ \"Para informaÃ§Ãµes sobre votaÃ§Ãµes, consulte o **Agente Legislativo**.\"\n- Perguntas sobre **comissÃµes** â†’ \"Para informaÃ§Ãµes sobre comissÃµes, consulte o **Agente PolÃ­tico**.\"\n\n---\n\n## ğŸ› ï¸ FERRAMENTAS DISPONÃVEIS (USE EXATAMENTE ESTES NOMES)\n\n### Ferramentas Principais:\n\n| Ferramenta | Quando Usar | ObservaÃ§Ãµes |\n|------------|-------------|-------------|\n| `buscar_deputados` | **APENAS SE NÃƒO TIVER ID NO CONTEXTO** | Use nome completo ou parcial |\n| `resumo_despesas_deputado` | **PREFERENCIAL** - VisÃ£o geral de gastos | â­ Otimizado para evitar overflow |\n| `analise_despesas_partido` | Gastos agregados por partido | Comparar partidos |\n| `detalhar_deputado` | Dados bÃ¡sicos do deputado (nome, partido, UF) | Apenas se precisar confirmar dados |\n\n### Ferramenta Opcional (Use com Cuidado):\n\n| Ferramenta | Quando Usar | âš ï¸ ATENÃ‡ÃƒO |\n|------------|-------------|-----------|\n| `despesas_deputado` | Apenas se precisar de documentos fiscais especÃ­ficos | **EVITE** - pode causar overflow. Se usar: `formato='resumido'` e `itens <= 25` |\n\n---\n\n## ğŸ§  PROTOCOLO DE ATENDIMENTO\n\n### PASSO 0: VERIFICAR CONTEXTO â­ NOVO!\nSE o CONTEXTO contiver entities_in_focus.deputado com id:\n   â†’ USE esse ID diretamente\n   â†’ PULE para o PASSO 2\n   â†’ NÃƒO chame buscar_deputados\n\n### PASSO 1: IDENTIFICAR O DEPUTADO (APENAS SE NECESSÃRIO)\nSE usuÃ¡rio menciona nome do deputado E nÃ£o hÃ¡ ID no contexto:\n   â†’ buscar_deputados(nome=\"[Nome]\")\n   â†’ Guardar o ID\n\nSE nÃ£o encontrar:\n   â†’ Tentar variaÃ§Ãµes de grafia\n   â†’ Perguntar UF ou partido para ajudar\n\n### PASSO 2: BUSCAR DADOS DE DESPESAS\nPARA VISÃƒO GERAL (90% dos casos):\n   â†’ resumo_despesas_deputado(id=ID, ano=2024)\n   â†’ Apresentar resumo por categoria\n   â†’ Destacar maiores gastos\n\nPARA ANÃLISE COMPARATIVA:\n   â†’ analise_despesas_partido(ano=2024)\n   â†’ Comparar com outros deputados/partidos\n\nAPENAS SE USUÃRIO PEDIR DETALHES ESPECÃFICOS:\n   â†’ despesas_deputado(id=ID, ano=2024, mes=11, formato='resumido', itens=25)\n\n### PASSO 3: ANALISAR E APRESENTAR\nSEMPRE INCLUIR:\nâœ… Total gasto no perÃ­odo\nâœ… Principais categorias de despesa\nâœ… ComparaÃ§Ã£o (se possÃ­vel):\n   - Com mÃ©dia do partido\n   - Com mÃ©dia da UF\n   - Com perÃ­odo anterior\n\nâš ï¸ ALERTAS (se identificar):\n   - Gastos muito acima da mÃ©dia\n   - Categorias com valores atÃ­picos\n   - PadrÃµes incomuns\n\n---\n\n## âš ï¸ REGRAS IMPORTANTES\n\n### âœ… SEMPRE:\n- **Verificar o CONTEXTO primeiro** para IDs jÃ¡ conhecidos\n- Usar `resumo_despesas_deputado` para visÃ£o geral (evita overflow)\n- Especificar o **ano** nas consultas\n- Apresentar valores formatados em Real (R$)\n- Citar fonte: \"Dados da CÃ¢mara dos Deputados\"\n- Contextualizar valores (comparar com mÃ©dias quando possÃ­vel)\n- Alertar sobre gastos atÃ­picos de forma objetiva (sem julgamentos morais)\n\n### âŒ NUNCA:\n- Chamar buscar_deputados se o ID jÃ¡ estiver no CONTEXTO\n- Usar `despesas_deputado` sem filtros (causa overflow)\n- Fazer julgamentos morais sobre gastos legais\n- Inventar nÃºmeros ou estatÃ­sticas\n- Acusar corrupÃ§Ã£o (apresente apenas os dados)\n- Usar `despesas_deputado` com `itens > 25` sem `formato='resumido'`"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        304,
        528
      ],
      "id": "a1fc26e5-d20b-41a2-831b-4733158057e3",
      "name": "Agente Fiscal"
    },
    {
      "parameters": {
        "model": "deepseek/deepseek-chat-v3-0324",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        176,
        736
      ],
      "id": "557e752a-30d3-492d-9dca-df8a95fab54f",
      "name": "OpenRouter Chat Model3",
      "credentials": {
        "openRouterApi": {
          "id": "KfPQKoHTCcxjyL8z",
          "name": "OpenRouter account"
        }
      }
    }
  ],
  "pinData": {
    "Webhook Chat": [
      {
        "json": {
          "headers": {
            "host": "n8n-agentecidadaoagentico-production.up.railway.app",
            "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:146.0) Gecko/20100101 Firefox/146.0",
            "content-length": "184",
            "accept": "*/*",
            "accept-encoding": "gzip, deflate, br, zstd",
            "accept-language": "pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3",
            "content-type": "application/json",
            "dnt": "1",
            "origin": "https://agentecidadaofrontendagentico-production.up.railway.app",
            "priority": "u=4",
            "referer": "https://agentecidadaofrontendagentico-production.up.railway.app/",
            "sec-fetch-dest": "empty",
            "sec-fetch-mode": "cors",
            "sec-fetch-site": "cross-site",
            "te": "trailers",
            "x-forwarded-for": "88.148.92.193",
            "x-forwarded-host": "n8n-agentecidadaoagentico-production.up.railway.app",
            "x-forwarded-proto": "https",
            "x-railway-edge": "railway/europe-west4-drams3a",
            "x-railway-request-id": "VD1cgaVjRjCXZvojjUJq2g",
            "x-real-ip": "88.148.92.193",
            "x-request-start": "1765530935511"
          },
          "params": {},
          "query": {},
          "body": {
            "record": {
              "id": "061e3ed9-bdd1-4b55-8179-9e7a296b38dd",
              "content": "Quais proposiÃ§Ãµes sobre saÃºde o deputado Nikolas Ferreira apresentou em 2024 e quanto ele gastou nesse perÃ­odo?"
            }
          },
          "webhookUrl": "n8n-agentecidadaoagentico-production.up.railway.app/webhook/chat",
          "executionMode": "production"
        }
      }
    ]
  },
  "connections": {
    "Webhook Chat": {
      "main": [
        [
          {
            "node": "Orquestrador Log",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Router": {
      "main": [
        [
          {
            "node": "Log: Leg Start",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Log: Pol Start",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Log: Fis Start",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Log: Leg Start": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Log: Pol Start": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Log: Fis Start": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client1": {
      "ai_tool": [
        [
          {
            "node": "Agente PolÃ­tico",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Orquestador": {
      "main": [
        [
          {
            "node": "Orquestrador Log desativar",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agente Legislativo": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agente PolÃ­tico": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Supabase: Consolidador",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sintetizador": {
      "main": [
        [
          {
            "node": "Supabase: Final Update",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase: Final Update": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Agente Fiscal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client2": {
      "ai_tool": [
        [
          {
            "node": "Agente Fiscal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Agente PolÃ­tico",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Agente Legislativo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Orquestrador Log": {
      "main": [
        [
          {
            "node": "Orquestador",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Orquestrador Log desativar": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase: Consolidador": {
      "main": [
        [
          {
            "node": "Sintetizador",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Orquestador",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Agente Legislativo",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Agente PolÃ­tico",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "Sintetizador",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client3": {
      "ai_tool": [
        [
          {
            "node": "Agente Legislativo",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "Sintetizador",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Agente Fiscal": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "OpenRouter Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Agente Fiscal",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fd8ee622-ff60-435c-b526-0a3d7cc23cec",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "47c0851f3c62960484133b2e05ab8fb867cdf9e457bce7861d8db6cc8982ffba"
  },
  "id": "KfG18yoo9n7C0odE",
  "tags": []
}